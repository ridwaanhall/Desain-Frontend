<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/img/favicon.png">
  <title>
    Search Students
  </title>
  <!-- CSS Files -->
  <link id="pagestyle" href="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/css/material-dashboard.css" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/17dd18b72c.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/css/material-dashboard.min.css" type="text/css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body class="d-flex align-items-center justify-content-center vh-100">
  <div class="container">
    <div class="row">
      <div class="col-12 mt-4">
        <div class="card card-frame my-4">
          <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
            <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
              <h6 class="text-white text-capitalize ps-3">Search Movies</h6>
            </div>
          </div>
          <div class="card-body">
            <div class="col-md-12">
              <div class="input-group input-group-outline mb-4">
                <label class="form-label">Input</label>
                <input type="text" name="searchTitle" class="form-control" id="searchTitle">
              </div>
            </div>
            <button onclick="searchOMDB()" class="btn btn-outline-primary">Search</button>
          </div>
        </div>
      </div>
      <!-- <div class="col-12">
        <div class="card my-4">
          <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
            <div class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3">
              <h6 class="text-white text-capitalize ps-3">Movies Table</h6>
            </div>
          </div>
          <div class="card-body px-0 pb-2">
            <div class="table-responsive">
              <table class="table table-flush" id="datatable-movies">
                <thead class="thead-light">
                  <tr>
                    <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">Title</th>
                    <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">Year</th>
                    <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">Type</th>
                    <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">Poster</th>
                    <th class="text-uppercase text-secondary text-sm font-weight-bolder opacity-7">imdbID</th>
                  </tr>
                </thead>
                <tbody id="movieTable">
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div> -->
    </div>
  </div>
  <script src="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/js/core/bootstrap.min.js"></script>

  <script src="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/js/material-dashboard.min.js"></script>
  <script src="https://ecb03365-700f-42e0-b12e-d94e3cfea0b9-00-1mhog42sorj0d.global.replit.dev/static/assets/js/plugins/datatables.js" type="text/javascript"></script>
  <script type="text/javascript">
    const dataTableBasic = new simpleDatatables.DataTable("#datatable-movies", {
      searchable: true,
      fixedHeight: true
    });
  </script>
  <script>
    function searchOMDB() {
      const searchTitle = $('#searchTitle').val();
      const apiKey = 'fa604f7b';
      const apiUrl = `http://www.omdbapi.com/?apikey=${apiKey}&s=${encodeURIComponent(searchTitle)}`;
  
      $.ajax({
        url: apiUrl,
        type: 'GET',
        dataType: 'json',
        success: processDataOMDB,
        error: function(error) {
          console.error('Error fetching data:', error);
        }
      });
    }
  
    function processDataOMDB(data) {
      const movieTable = $('#movieTable');
  
      // Clear existing rows
      movieTable.empty();
  
      if (data.Search && data.Search.length > 0) {
        data.Search.forEach(movie => {
          // Append a new row for each movie
          movieTable.append(`
            <tr>
              <td>${movie.Title}</td>
              <td>${movie.Year}</td>
              <td>${movie.Type}</td>
              <td><img src="${movie.Poster}" alt="Poster" style="width: 50px; height: auto;"></td>
              <td>${movie.imdbID}</td>
            </tr>
          `);
        });
      } else {
        // Display a message if no results are found
        movieTable.append(`
          <tr>
            <td colspan="5">No results found.</td>
          </tr>
        `);
      }
    }
  </script>
</body>

</html>